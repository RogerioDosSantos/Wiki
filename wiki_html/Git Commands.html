<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="Stylesheet" type="text/css" href="../resources/markdown.css" />
	<link rel="Stylesheet" type="text/css" href="../resources/github.css" />
	<title>Git Commands</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
	<div class="content">
		
<div id="Git"><h1 id="Git">Git</h1></div>

<p>
origin (Server) &gt;&gt; master (Work branch) &gt;&gt; Header (Local commits) &gt;&gt; tracked (files added) &gt;&gt; untracked (any change)
</p>

<p>
<code>git config --global user.email &lt;your e-mail&gt; </code>
  : config your e-mail account globally
</p>

<p>
<code>git config --global user.name &lt;your name&gt; </code>
  : config your name globally
</p>

<p>
<code>git  init </code>
  : Initialize git repository. To init the repository on the server, use the option --bare
</p>

<p>
<code>git add &lt;folder&gt; </code>
  : add content to the git repository
</p>

<p>
<code>git diff --cached --name-status </code>
  : Get the list of the git files added
</p>

<p>
<code>git diff HEAD &lt;file name&gt; </code>
  : Compare the file with the one added.
</p>

<p>
<code>git commit -m &lt;check-in description&gt; </code>
  : send the content to the git repository
</p>

<p>
<code>git config --list </code>
  : List the current git configuration
</p>

<p>
<code>git clone &lt;repository git url&gt; &lt;local folder name&gt; </code>
  : Clone git repository (E.g.: git clone <a href="ssh:&#47;&#47;git@192.168.56.113&#47;~&#47;git-server&#47;leel.git)">ssh://git@192.168.56.113/~/git-server/leel.git)</a>
</p>

<p>
<code>git status </code>
  : Show the current status of the git repository
</p>

<p>
<code>git push </code>
  : Push the changed to the server
</p>

<p>
<code>git config --global credential.helper "cache --timeout=3600" </code>
  : configure to cache your credentials for a specific amount of time.
</p>

<p>
<code>git stash</code>
  : Get the information from server replacing the information of existing files with the server content. NO MERGE
</p>

<p>
<code>git checkout -- &lt;filename&gt;</code>
  : Discard added changed for a file
</p>

<p>
<code>git fetch origin</code>
  : Sync local origin with the remote server 
</p>

<p>
<code>git reset [--hard] origin/master</code>
  : Discard all local committed changes. If --hard is used all changes are lost. If --hard is not used all changed files will be on the untracked stage.
</p>

<p>
<code>git checkout -b &lt;branch&gt;</code>
  : Create local branch
</p>

<p>
<code>git branch -d &lt;branch&gt;</code>
  : Remove local branch
</p>

<p>
<code>git checkout &lt;branch&gt;</code>
  : Go to the branch
</p>

<p>
<code>git pull</code>
  : Update local repository with the newest commit
</p>

<p>
<code>git merge &lt;another branch</code>
  : Merge another branch into your active branch. The merged files will be on the untracked stage
</p>

<p>
<code>git show-branch</code>
  : Show the available branches
</p>

<p>
<code>git rm &lt;file name&gt;</code>
  : Remove git file or directory
</p>

<p>
<code>git reset --hard</code>
  : Undo a change that was added but not commit yet
</p>

<p>
<code>git reset --hard origin/master</code>
  : Undo all changes and commits. Your code will be equivalent to the server.
</p>

<p>
<code>git checkout HEAD -- &lt;file&gt;</code>
  : Reset the file with its original value
</p>
  
<p>
<code>git clean -fd</code> : Remove untracked files.
</p>

<div id="Git-History"><h2 id="History">History</h2></div>

<p>
<code>git blame</code>
  : Allow you to check the file chane history (Similar to VS anotate)
</p>

<p>
<code>git diff &lt;source branch&gt; &lt;target branch&gt;</code>
  : Preview the branch differences. 
</p>

<p>
<code>git remote show origin</code>: Show the URL a git repository is cloned from.
</p>

<div id="Git-Submodules:"><h2 id="Submodules:">Submodules:</h2></div>

<p>
<code>git submodule add &lt;repository url&gt; </code>
  : Add a submodule into a git project.
</p>

<p>
<code>git submodule add -b &lt;branch&gt; &lt;repository url&gt; </code>
  : Add a submodule that tracks a branch
</p>

<p>
<code>git submodule init </code>
  : Initialize the submodule configuration. You should run it after you clone the project with submodule on it.
</p>

<p>
<code>git submodule update</code>
  : Get the content of all submodules.
</p>

<p>
<code>git checkout &lt;branch or label&gt; </code>
  : Checkout a branch to allow edition on it. IMPORTANT: If you are checkingout a lebel, you will not be allowed to modify it. Execute the command below to put the lable in another branch
</p>

<p>
<code>git checkout -b &lt;new branch&gt; &lt;branch or label&gt; </code>
  : Create a new Branch for the Branch or label checked out.
</p>

<p>
<code>git status --ignore-submodules=dirty </code>
  : Ignore the dirty feature that slow down the command in case you have submodules with a lot of files. You can also change the ".gitmodules" files to add the following entry in a submodule you want to ignore: ignore == dirty
</p>

<div id="Git-Submodules:-Submodules Workflow"><h3 id="Submodules Workflow">Submodules Workflow</h3></div>

<div id="Git-Submodules:-Submodules Workflow-Initial Checkpoint"><h4 id="Initial Checkpoint">Initial Checkpoint</h4></div>

<ul>
<li>
git clone &lt;url of main project&gt;

<li>
cd &lt;directory of main project&gt;

<li>
git submodule update -init

<li>
git submodule foreach git checkout master

</ul>

<div id="Git-Submodules:-Submodules Workflow-Commit a modification"><h4 id="Commit a modification">Commit a modification</h4></div>

<ul>
<li>
cd &lt;directory of sub project&gt;

<li>
git checkout -b &lt;your branch name&gt;

<li>
Execute the modification

<li>
git commit

<li>
git push origin &lt;server branch&gt;

</ul>

<div id="Git-Submodules:-Submodules Workflow-Updated Third-Party Library"><h4 id="Updated Third-Party Library">Updated Third-Party Library</h4></div>

<ul>
<li>
cd &lt;directory of third-party library&gt;

<li>
git checkout vendor

<li>
git pull 

<li>
git checkout -b phantom_merge

<li>
git merge -s ours master -m phantom_merge

<li>
git checkout master

<li>
git merge --ff-only phantom_merge

<li>
git branch -D phantom_merge

<li>
git cherry-pick 924989v# etc...

<li>
Test

<li>
git push origin master:master

</ul>

<div id="Git-Submodules:-Submodules Workflow-Modification to Third-Party Repository"><h4 id="Modification to Third-Party Repository">Modification to Third-Party Repository</h4></div>

<ul>
<li>
cd &lt;directory of third-party&gt;

<li>
Make changes

<li>
git commit

<li>
git checkout vendor

<li>
git merge --ff-only origin/vendor

<li>
git checkout -b my_change

<li>
git cherry-pick 293h39

<li>
git push &lt;git url&gt;:my_change:my_change

<li>
Use Github to make pull request

</ul>
  

<p>
TODO(Roger): Search on how to make the server to update the main project submodules statepoint when after a checkin passed on the automated tests. This would be interesting for the development branch.
</p>

<p>
TODO(Roger): Search about cron jobs on Github
</p>

<div id="Git-Tags:"><h2 id="Tags:">Tags:</h2></div>

<p>
<code>git tag -l &lt;pattern&gt; </code>
  : List the tags available. If &lt;pattern&gt; is nothing it will list all the tags
</p>

<p>
<code>git describe --tags </code>
  : Inform in what tag you are on
</p>


<div id="Git-Ignore Directory"><h2 id="Ignore Directory">Ignore Directory</h2></div>

<p>
Create a file called .gitignore into your project folder and add all folders that should be ignored. 
</p>

<div id="Git-Initialize Repository"><h2 id="Initialize Repository">Initialize Repository</h2></div>

<pre>
Create repository on Github
On Linux use the commands:
echo "# linux_environment" &gt;&gt; README.md
git init
git add README.md
git commit -m "first commit"
git remote add origin &lt;repository .git url&gt;
git push -u origin master
</pre>

<div id="Git-Local commit manual tranfer"><h2 id="Local commit manual tranfer">Local commit manual tranfer</h2></div>

<p>
All local changes you execute on git is stored on the <em>.git</em> folder. You can copy this folder between same git projects located on different git repositories. In this way you can for example continue your work on differents computers. To tranfer the content, please follow the sequence below:
</p>

<ul>
<li>
Copy the full content of your <em>.git</em> source folder to a temp location.

<li>
Remove the <em>.git</em> your destination folder. Note: All your changes on that folder will be lost. So if you have pending check-ins publish it.

<li>
Copy the content of your <em>git</em> folder from your temp location to your destination folder.

<li>
Use the command <code>git checkout HEAD</code> to ensure thal all your local files are updated with the information that is on the HEAD.

</ul>

<div id="Git-Transfer Git Repository"><h2 id="Transfer Git Repository">Transfer Git Repository</h2></div>

<p>
<code>git fetch origin</code> : Get the ingormation from the server (History)
</p>

<p>
<code>git branch -a</code> : Show all branches. If you have a branch that is remote you need to get it on your computer using the command  <code>checkout</code>
</p>

<p>
<code>git checkout -b &lt;local name&gt; &lt;remote name&gt;</code> : Checkout a Branch. E.g.: <code>git checkout -b develop origin/develop</code>
</p>

<p>
<code>git remote add &lt;name of remote&gt; &lt;remote url of an empty repository&gt;</code> : The remote name can be any name. The remote URL should be created on the server bu not initialized, otherwise you will have an conflict error. E.g.: <code>git remote add new-origin git@github.com:manakor/manascope.git</code>
</p>

<p>
<code>git push --all &lt;name of remote&gt;</code> : Push all changes, include the history. It does not ony push the tags information. E.g.: <code>git push --all new-origin</code>
</p>

<p>
<code>git push --tags &lt;name of remote&gt;</code> : Push the tags. E.g.: <code>git push --tags new-origin</code>
</p>

<p>
<code>git remote rm &lt;name of the origin remote&gt;</code> : Remove the remote name from the local repository. Note that <code>origin</code> is the default name. E.g.: <code>git remote rm origin</code> Note: To list the remotes available you can use the command <code>git remote show</code>
</p>

<p>
<code>git remote rename &lt;name of the remote&gt; &lt;name of the origin remote&gt;</code> : Rename the remote. E.g.: <code>git remote rename new-origin origin</code> Note: To list the remotes available you can use the command <code>git remote show</code>
</p>

	</div>
<script type="text/javascript" src="../resources/highlight.pack.js"></script>
<script type="text/javascript" src="../resources/zepto.min.js"></script>
<script type="text/javascript">
$('pre').each(function(index,item){ $(item).html('<code>'+$(item).html()+'</code>'); });
hljs.initHighlightingOnLoad();
</script>
</body>
</html>
