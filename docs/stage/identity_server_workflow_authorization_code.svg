<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: identity_server_authorization_code_flow Pages: 1 -->
<svg width="760pt" height="176pt"
 viewBox="0.00 0.00 760.16 176.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 172)">
<title>identity_server_authorization_code_flow</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-172 756.1597,-172 756.1597,4 -4,4"/>
<!-- client -->
<g id="node1" class="node">
<title>client</title>
<path fill="#f0ffff" stroke="#000000" d="M345.6597,-168C345.6597,-168 212.6597,-168 212.6597,-168 206.6597,-168 200.6597,-162 200.6597,-156 200.6597,-156 200.6597,-144 200.6597,-144 200.6597,-138 206.6597,-132 212.6597,-132 212.6597,-132 345.6597,-132 345.6597,-132 351.6597,-132 357.6597,-138 357.6597,-144 357.6597,-144 357.6597,-156 357.6597,-156 357.6597,-162 351.6597,-168 345.6597,-168"/>
<text text-anchor="middle" x="279.1597" y="-146.3" font-family="Times,serif" font-size="14.00" fill="#000000">Application (Client)</text>
</g>
<!-- authorization_service -->
<g id="node2" class="node">
<title>authorization_service</title>
<path fill="#f0ffff" stroke="#000000" d="M349.1597,-36C349.1597,-36 209.1597,-36 209.1597,-36 203.1597,-36 197.1597,-30 197.1597,-24 197.1597,-24 197.1597,-12 197.1597,-12 197.1597,-6 203.1597,0 209.1597,0 209.1597,0 349.1597,0 349.1597,0 355.1597,0 361.1597,-6 361.1597,-12 361.1597,-12 361.1597,-24 361.1597,-24 361.1597,-30 355.1597,-36 349.1597,-36"/>
<text text-anchor="middle" x="279.1597" y="-14.3" font-family="Times,serif" font-size="14.00" fill="#000000">Autorization Service</text>
</g>
<!-- client&#45;&gt;authorization_service -->
<g id="edge1" class="edge">
<title>client&#45;&gt;authorization_service</title>
<path fill="none" stroke="#0000ff" d="M200.5162,-144.559C126.5802,-138.6232 25.4441,-128.0589 13.1597,-114 -4.3866,-93.9191 -4.3866,-74.0809 13.1597,-54 24.7092,-40.7821 114.7979,-30.6532 186.9801,-24.5557"/>
<polygon fill="#0000ff" stroke="#0000ff" points="187.3598,-28.0363 197.0365,-23.7221 186.7815,-21.0602 187.3598,-28.0363"/>
<text text-anchor="middle" x="93.6597" y="-95.3" font-family="Times,serif" font-size="14.00" fill="#0000ff">01</text>
<text text-anchor="middle" x="93.6597" y="-80.3" font-family="Times,serif" font-size="14.00" fill="#0000ff">Authorization Request</text>
<text text-anchor="middle" x="93.6597" y="-65.3" font-family="Times,serif" font-size="14.00" fill="#0000ff">Informing Client ID</text>
</g>
<!-- client&#45;&gt;authorization_service -->
<g id="edge3" class="edge">
<title>client&#45;&gt;authorization_service</title>
<path fill="none" stroke="#0000ff" d="M212.484,-131.9774C204.874,-127.2996 198.0916,-121.4112 193.1597,-114 178.386,-91.7998 178.386,-76.2002 193.1597,-54 196.2421,-49.368 200.0474,-45.3309 204.3258,-41.8123"/>
<polygon fill="#0000ff" stroke="#0000ff" points="206.3545,-44.6644 212.484,-36.0226 202.3033,-38.9559 206.3545,-44.6644"/>
<text text-anchor="middle" x="264.6597" y="-95.3" font-family="Times,serif" font-size="14.00" fill="#0000ff">03</text>
<text text-anchor="middle" x="264.6597" y="-80.3" font-family="Times,serif" font-size="14.00" fill="#0000ff">Authentication with</text>
<text text-anchor="middle" x="264.6597" y="-65.3" font-family="Times,serif" font-size="14.00" fill="#0000ff">ClientID and secret</text>
</g>
<!-- authorization_service&#45;&gt;client -->
<g id="edge2" class="edge">
<title>authorization_service&#45;&gt;client</title>
<path fill="none" stroke="#0000ff" stroke-dasharray="1,5" d="M323.1316,-36.1937C329.9491,-40.9696 336.0743,-46.8452 340.1597,-54 353.3825,-77.1575 353.3825,-90.8425 340.1597,-114 337.734,-118.2482 334.5892,-122.0453 331.0073,-125.4291"/>
<polygon fill="#0000ff" stroke="#0000ff" points="328.7008,-122.7932 323.1316,-131.8063 333.1058,-128.2334 328.7008,-122.7932"/>
<text text-anchor="middle" x="453.1597" y="-95.3" font-family="Times,serif" font-size="14.00" fill="#0000ff">02</text>
<text text-anchor="middle" x="453.1597" y="-80.3" font-family="Times,serif" font-size="14.00" fill="#0000ff">Atuhorization Code</text>
<text text-anchor="middle" x="453.1597" y="-65.3" font-family="Times,serif" font-size="14.00" fill="#0000ff">(After authorization consent)</text>
</g>
<!-- authorization_service&#45;&gt;client -->
<g id="edge4" class="edge">
<title>authorization_service&#45;&gt;client</title>
<path fill="none" stroke="#0000ff" stroke-dasharray="1,5" d="M361.417,-23.0335C439.879,-28.6951 548.032,-39.09 561.1597,-54 578.7816,-74.0145 578.7816,-93.9855 561.1597,-114 548.401,-128.4909 445.8839,-138.717 368.1008,-144.4779"/>
<polygon fill="#0000ff" stroke="#0000ff" points="367.5042,-141.0119 357.7839,-145.2268 368.0111,-147.9935 367.5042,-141.0119"/>
<text text-anchor="middle" x="663.1597" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#0000ff">04</text>
<text text-anchor="middle" x="663.1597" y="-87.8" font-family="Times,serif" font-size="14.00" fill="#0000ff">Identity Token</text>
<text text-anchor="middle" x="663.1597" y="-72.8" font-family="Times,serif" font-size="14.00" fill="#0000ff">Access Token</text>
<text text-anchor="middle" x="663.1597" y="-57.8" font-family="Times,serif" font-size="14.00" fill="#0000ff">Reflesh Token (Optional)</text>
</g>
</g>
</svg>
