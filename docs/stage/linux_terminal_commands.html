<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="../resources/style.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="linux-terminal-commands">Linux Terminal Commands</h1>
<h2 id="user">User</h2>
<p><code>sudo</code> : Run elevated</p>
<p><code>sudo -E</code> : Run elevated keeping all environment variables</p>
<p><code>sudo !!</code> : Repeat last command as sudo.</p>
<p><code>su -</code> : Become root (Super User)</p>
<p><code>su &lt;username&gt;</code> : ls</p>
<p><code>adduser &lt;username&gt;</code> : Add an user</p>
<p><code>groupadd &lt;group_name&gt;</code>: Add a group</p>
<p><code>usermod -aG &lt;group1&gt;,&lt;group2&gt;,&lt;etc..&gt; &lt;user name&gt;</code> : change the group of the user</p>
<p><code>usermod -d /home/&lt;new name&gt; -m -g &lt;new name&gt; -l &lt;new name&gt; &lt;old name&gt;</code> : Change the user. This changes the name, the group, the home directory and ownership and group of of that directory to the new ones, along with all the files.</p>
<p><code>usermod --password &lt;password&gt; &lt;user&gt;</code>: Change a password of an user.</p>
<p><code>groups</code> : list all groups for the current user</p>
<p><code>/etc/passwd</code> : File with a list of all users</p>
<p><code>/etc/group</code> : File with a list of all groups</p>
<h2 id="directories-and-files">Directories and Files</h2>
<p><code>pushd &lt;directory&gt;</code>: Go to a directory and keep the previous directory in memory so you can return to it using the command <code>popd</code></p>
<p><code>popd</code> : Return to the previous memory directory saved by the command <code>pushd</code></p>
<p><code>dirs</code> : List the directory history. It is convenient to know the stack when you use the <code>pushd</code> command.</p>
<p><code>dirs -c</code> : Clean all directories stack from <code>pushd</code> command.</p>
<p><code>pwd</code> : Show the directory you are</p>
<p><code>pwd -P</code> : Show the directory you are without symlink</p>
<p><code>ls -all</code> : List all files and directories into the current directory</p>
<p><code>chmod a+x &lt;filename&gt;</code> : Make a file executable</p>
<p><code>mkdir [-p] &lt;directory name&gt;</code> : Create directory. If p option is selected, create the directory only if it does not exist.</p>
<p><code>mkdir -p &lt;base_dir&gt;/{&lt;list_or_range&gt;}/{list_or_range}</code>: Create several folders. E.g.: <code>mkdir -p folder/{sub1,sub2}/{sub1,sub2,sub3}</code> or <code>mkdir -p folder/{1..10}/{1..10}</code></p>
<p><code>touch &lt;filename&gt;</code> : create a file</p>
<p><code>rm &lt;filename&gt;</code> : remove a file</p>
<p><code>rm !(&lt;filename&gt;)</code> : Remove all files but this one.</p>
<p><code>rmdir &lt;directory&gt;</code> : remove directory</p>
<p><code>rm -rf &lt;directory&gt;</code> : remove all directory and files recursively.</p>
<p><code>cp &lt;source&gt; &lt;destination&gt;</code> : Copy command</p>
<p><code>cp -r -u &lt;source&gt; &lt;destination&gt;</code> : Copy recursively updating only newer files</p>
<p><code>cp -n &lt;source&gt; &lt;destination&gt;</code> : Copy without overwriting existing file</p>
<p><code>ln -s &lt;path to be linked&gt; &lt;path where the link file will be created&gt;</code> : Create a symbolic link (Shortcut)</p>
<p><code>pwd -P</code> : Show the physical directory you are</p>
<p><code>ls -l</code> : List all files and directories into the current directory</p>
<p><code>mv</code> : Move or rename a file or directory</p>
<p><code>if [ -d &lt;directory&gt; ]; then; &lt;code&gt;; fi</code>: Check if directory exits</p>
<p><code>if [ -f &lt;file_path&gt; ]; then; &lt;code&gt;; fi</code>: Check if file exits</p>
<p><code>wc -l &lt;file_path&gt;</code>: Get the amount of lines into a file.</p>
<p><code>stat --format '%a' &lt;file_or_directory&gt;</code>: Get the <code>chmod</code> numerical value of a file or directory.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">for</span> <span class="ex">f</span> in *<span class="kw">;</span> <span class="kw">do</span> <span class="fu">mv</span> <span class="st">&quot;</span><span class="va">$f</span><span class="st">&quot;</span> <span class="st">&quot;</span><span class="va">$f</span><span class="st">.tmp&quot;</span><span class="kw">;</span> <span class="fu">mv</span> <span class="st">&quot;</span><span class="va">$f</span><span class="st">.tmp&quot;</span> <span class="st">&quot;</span><span class="kw">`</span><span class="bu">echo</span> <span class="va">$f</span> <span class="kw">|</span> <span class="fu">tr</span> <span class="st">&quot;[:upper:]&quot;</span> <span class="st">&quot;[:lower:]&quot;</span><span class="kw">`</span><span class="st">&quot;</span><span class="kw">;</span> <span class="kw">done</span></code></pre></div>
<p>: Rename all files of a directory to lower case.</p>
<p><code>for f in *; do mv &quot;$f&quot; &quot;${f%.*}&quot; ; done</code> : Remove the last extension of all files</p>
<p><code>tree</code> : Display the tree of directories and sub directories</p>
<p><code>wget [-O &lt;destination path&gt;] &lt;http or ftp url&gt;</code> : Get a file from the Internet to the destination path</p>
<p><code>wget --mirror &lt;htttp or ftp url&gt;</code> : Mirror an URL</p>
<p><code>&lt;command&gt; | tee -a &quot;&lt;logfile&gt;&quot;</code> : Saves the input to a file showing it on the stdout. -a informs that the file will be appended Saves the input to a file showing it on the stdout. -a informs that the file will be appended.</p>
<p><code>$(pwd -P | sed 's/\/mnt\/c\//c:\\\\/g' | sed 's/\//\\\\/g')</code>: Convert Linux path to Windows path when using Windows Linux Subsystem</p>
<h2 id="shell---programs-and-os">Shell - Programs and OS</h2>
<p><code>ctrl-c</code>: Stop a program in execution.</p>
<p><code>ctrl-z</code>: Suspend a program in execution.</p>
<p><code>&lt;command&gt; &amp;</code>: Execute a program in background (job).</p>
<p><code>&lt;program&gt; &lt;(&lt;command&gt;)</code>: Execute a command and pass it's answer as file entry to a program. E.g.: <code>cat &lt;(ls)</code>.</p>
<p><code>jobs</code>: Inform the programs that is in background, its execution status, command and job number.</p>
<p><code>fg &lt;job_number&gt;</code>: Bring a job that is the background to the foreground. If the job is stopped, it will be executed.</p>
<p><code>bg &lt;job_number&gt;</code>: Continue the execution of a stopped job (suspended) in the background.</p>
<p><code>exec &lt;command&gt;</code>: Execute a program without forking it.</p>
<p><code>ps -aux</code> : List of all running process</p>
<p><code>ps ajf</code> : List user running process with a tree of whom called it</p>
<p><code>ps -f [&lt;process_id&gt;]</code> : List additional information. E.g.: Parent Process (PPID), Command that execute the process (CMD), etc.</p>
<p><code>ps -o pid,user,%mem,command ax | sort -b -k3 -r</code>: Display the amount of memory used on each process</p>
<p><code>kill [-KILL] &lt;process id&gt;</code> : Kill a process. The <code>-KILL</code> parameter forces the process to be killed. You can get the process id using the <code>top</code> command</p>
<p><code>kill -l</code>: Display the signal available list (signal number). Please see <a href="#signals">signals topic</a> for the signals descriptions.</p>
<p><code>kill -&lt;signal_number&gt;</code>: Send a signal to a program.</p>
<p><code>exit</code> : Exit the terminal. Note: When you exit the terminal, all programs launched on it will be closed.</p>
<p><code>disown -a &amp;&amp; exit</code>: Exit the terminal but leave all programs running.</p>
<dl>
<dt><code>info &lt;command name&gt;</code></dt>
<dd>List the information of a specific command. If you do not mention the <command name> it will list the command available.
</dd>
</dl>
<p><code>screenfetch</code> : Display the linux logo and information of the system.</p>
<figure>
<img src="http://tinyurl.com/yayn3tst" width="50" />
</figure>
<p><code>which &lt;program&gt;</code> : Inform where a program is located.</p>
<p><code>command -v &lt;program&gt;</code> : Inform where a program is located. This should be preferred over <code>which</code> since this is built-in in the shell.</p>
<p><code>date</code> : Display the Date and Time on the local computer timezone. You can access a list of example for Date and Time format <a href="./date_time_format_list.html">here</a></p>
<p><code>date -u</code>: Display the Date and Time in UTC format.</p>
<p><code>[[shutdown]] -r now</code> : Restart the device</p>
<p><code>which &lt;program&gt;</code> : Inform where a program is located.</p>
<p><code>uname -a</code> : Get the full OS version</p>
<p><code>lsb_release -a</code>: Display the Linux distribution. Operational System ID, Description. Codename and version. In case lsb_release is not available you can execute the following: <code>cat /etc/*-release</code></p>
<p><code>/sbin/ldconfig -p</code>: Show the list of libraries that were used by the system and/or is available on the <em>cache</em></p>
<p><code>/sbin/ldconfig -p | grep stdc++.so</code>: Return the libstdc++ library version installed on the machine. Example of return: <code>libstdc++.so.6 (libc6,soft-float) =&gt; /usr/lib/libstdc++.so.6</code>. You can get the compatible versions for <em>libstdc++</em> by using the following command on the lib found: <code>strings /usr/lib/libstdc++.so.6 | grep LIBCXX</code></p>
<p><code>/sbin/ldconfig -p | grep libc.so</code>: Return the <em>libc</em> library version installed on the machine.</p>
<p><code>top</code> : Process monitor</p>
<p><code>top -p $(pgrep -d',' &lt;proccess name&gt;)</code> : Monitor a specific process. Note: You do not need to enter all name. If the string name does not match any process the following error message will be displayed: <em>top: -p requires argument</em></p>
<p><code>top -H &lt;pid&gt;</code>: Monitor an specific process</p>
<p><code>pidof &lt;process name&gt;</code> : Returns the PID of a process</p>
<p><code>&lt;program name&gt; --version</code> : Get the version of a program</p>
<p><code>whereis &lt;program&gt;</code> : find where is the location of a specific program</p>
<p><code>echo $?</code>: Check if the last executed command returned an error</p>
<p><code>echo $(!!)</code>: Get the output of the last command</p>
<p><code>lsof</code> : List all open files and its process (You need to run as super user). E.g.:<code>lsof &gt; Result.txt</code></p>
<p><code>vmstat</code> : Virtual Memory Statistics</p>
<p><code>compgen -c</code> : List all the commands you could run.</p>
<p><code>compgen -a</code> : List all the aliases you could run.</p>
<p><code>compgen -b</code> : List all the built-ins you could run.</p>
<p><code>compgen -k</code> : List all the keywords you could run.</p>
<p><code>compgen -A</code> : List all the functions you could run.</p>
<p><code>compgen -A</code> : function -abck will list all the above in one go.</p>
<p><code>apt-get install &lt;package name&gt;</code> : Install a package (For Debian: E.g.: Ubuntu)</p>
<p><code>apt-get --purge remove &lt;package name&gt;</code> : Install a package (For Debian: E.g.: Ubuntu)</p>
<p><code>Yum install &lt;package name&gt;</code> : Install a package (For RPM: E.g.: Fedora)</p>
<p><code>smart install &lt;package name&gt;</code> : Install a package. The <a href="https://labix.org/smart">smart package manager</a> supports several distributions and can replace the following package managers: APT, APT-RPM, YUM, URPMI, etc.</p>
<p><code>tce</code> : Allow to install applications into a Tiny Core Linux</p>
<p><code>free</code> : Display the amount of free and used system memory (Default: Kilobytes).</p>
<p><code>watch [-n &lt;interval_in_seconds&gt;] &lt;program to execute&gt;</code> : Execute a program every period of time (Default: 2 seconds)</p>
<p><code>sudo service &lt;service name&gt; restart</code> : Restart a Server</p>
<p><code>cat &gt; &lt;file name&gt;</code> : Create a file and allow you to edit it. Careful! If you do it into an existing file, its content will be deleted.</p>
<p><code>find &lt;directory to start&gt; -name &quot;&lt;file to find&gt;&quot;</code> : Find file in all sub directories</p>
<p><code>find . -iname &quot;*.&lt;extension&gt;&quot; -type f</code> : Find extension on all sub-directories ( E.g.: <code>find . -iname &quot;*.dll&quot; -type f</code> )</p>
<p><code>find &lt;directory to start&gt;</code> : Find all files on that directory displaying the full path.</p>
<p><code>find &lt;directory&gt; -maxdepth 1 -name &quot;&lt;expression&gt;&quot;</code> : Find the file into the directory without looking on the sub directories. E.g.: <code>find ../bin/Studio/Debug/ -maxdepth 1 -name &quot;boost_*.dll&quot;</code></p>
<p><code>find &lt;start_directory&gt; -iname &quot;&lt;old_name&gt;*&quot; | sed -e 'p;s/&lt;old_name&gt;/&lt;new_name&gt;/' | xargs -n2 mv</code> : Rename all files that match an expression recursively</p>
<p><code>find &lt;start_directory&gt; -type d -name &quot;&lt;expression&gt;&quot;</code> : Find directories</p>
<p><code>find &lt;start_directory&gt; -ctime +&lt;days&gt;</code> : Find directories older than the amount of days informed.</p>
<p><code>find . -mindepth 1 -maxdepth 1 -type d -printf '%f\n'</code>: Return only the directory names</p>
<p><code>find . -exec echo &quot;Test: {}&quot; \;</code>: Execute a command for each line of the find (E.g.: <code>find . -cmin -20 -exec echo &quot;Test: {}&quot; \;</code></p>
<p><code>grep --include=\*.{cpp,h} -rnw &lt;source directory&gt; -e &quot;&lt;text to find&gt;&quot;</code> : Find a text into files (Case Sensitive)</p>
<p><code>grep --include=\*.{cpp,h} -rnwi &lt;source directory&gt; -e &quot;&lt;text to find&gt;&quot;</code> : Find a text into files (Case Insensitive)</p>
<p><code>grep -rl &lt;text_to_find_inside_file&gt; &lt;start_dirrectory&gt; | xargs sed -i 's/&lt;text_to_be_replaced&gt;/&lt;new_text&gt;/g'</code> : Find files with a specific text and replace its content</p>
<p><code>&lt;command&gt; | grep -i &lt;search_word&gt;</code>: Filter the result of the command to an specific word case Insensitive.</p>
<p><code>&lt;command&gt; | grep -v &lt;unwanted_word&gt;</code>: Filter the result of a command removing an specific word.</p>
<p><code>nm &lt;library name&gt;</code> : List symbols in libraries. Note: <em>T</em> indicates that the symbol is are exported by the library. <em>U</em> indicated that the symbol is not in the library but loaded in another shared library.</p>
<p><code>nm -C &lt;library_path&gt; | grep -i &quot;&lt;function_name&gt;&quot;</code>: Show how the function is declared in the library.</p>
<p><code>nm &lt;library name&gt; | grep -i &quot;&lt;function name&gt;&quot;</code> : Locate if a function is exported from a library</p>
<p><code>encfs &lt;encrypted folder content&gt; &lt;mounted folder&gt;</code> : Enable cryptography on the mounted folder saving the content into the encrypted folder. (E.g.: encfs ~/.encrypted ~/encrypted)</p>
<p><code>fusermount -u &lt;mounted folder&gt;</code> : unmount folder.</p>
<p><code>tar xjf &lt;file path&gt;</code> : Uncompress tar files (E.g.: *.tar.bz2)</p>
<p><code>gzip &lt;file path&gt;</code> : Compress using gzip</p>
<p><code>rsync -uve ssh &lt;source directory&gt;/* &lt;user&gt;@&lt;remote computer (IP)&gt;:&lt;target directory&gt;</code> : Sync all files from the source directory to the target directory.</p>
<p><code>rsync -vah &lt;source_folder&gt; &lt;destination_folder&gt;</code>: Execute the synchronization between folders.</p>
<p><code>nmap -p &lt;port range&gt; &lt;url o ip&gt;</code> : Verify if a range of port is open. E.g.: <code>nmap -p 1-1000 portquiz.net</code></p>
<p><code>telnet &lt;url or ip&gt; &lt;port&gt;</code> : Verify if a port is open.</p>
<p><code>tar -cz &lt;directory to backup&gt; | gpg -c -o ./backup.tgz.gpg</code> : Execute an encrypted compressed backup. E.g.: <code>tar -cz ./safe00/ | gpg -c -o ./backup.tgz.gpg</code></p>
<p><code>gpg -d ./backup.tgz.gpg | tar xz</code> : Uncompress the encrypted backup into the current directory.</p>
<p><code>uuidgen</code> : Create a GUID</p>
<p><code>dpkg --print-architecture</code>: Display the user space architecture the package manager uses.</p>
<p><code>dpkg --add-architecture amd64</code>: Add 64bits user space architecture on the package manager.</p>
<p><code>apt-get -f install</code>: Fix system with broken dependencies in place</p>
<p><code>strings &lt;file_path&gt;</code>: Show all printable strings of a file.</p>
<p><code>strings &lt;file_path&gt; | grep &lt;search_item&gt;</code>: Search for an string in any file. Can be used to also search on binary files.</p>
<p><code>&lt;command&gt; &amp;&gt; &lt;file_path&gt;</code>: Redirect all commands output to a file. The <em>&amp;</em> means &quot;redirect <em>stdout</em> and <em>stderr</em>&quot;. Note that depending on the shell you will need to use: <code>&gt;&amp;</code>, <code>&amp;&gt;</code> or <code>&gt; &lt;file_path&gt; 2&gt;&amp;1</code></p>
<p><code>exec &lt;command&gt;</code>: Execute the command. In case the command fails, the script will stop its execution.</p>
<p><code>eval &lt;command&gt;</code>: Equivalent to <code>exec</code> function but the script will not stop its execution if the command exits with a code different than 0.</p>
<p><code>unset -f &lt;function_name&gt;</code>: Unset (un-declare) a function.</p>
<p><code>declare -F &lt;name&gt;</code>: Verify if a function or item is declared.</p>
<p><code>( set -o posix ; set  )</code>: Display all variables.</p>
<p><code>local &lt;variable_name&gt;=$(cat)</code> : Get Input from std in (Pipe) and put into a variable.</p>
<p><code>pandoc &lt;markdown_file_path&gt; | lynx -stdin</code> : Display Markdown on the command line.</p>
<p><code>w3m -dump http://google.com</code> : Show url</p>
<p><code>echo &quot;$LINENO -  $FUNCNAME&quot;</code> : Show Function and Line Number of a script file</p>
<p><code>&lt;command&gt; &amp;</code> : Run command in background</p>
<p><code>&lt;command&gt; || true</code>: Run a command and ignore the return error.</p>
<p><code>alias &lt;name&gt;=&quot;&lt;command&gt;&quot;</code>: Create a alias to a command</p>
<p><code>alias search=&lt;name&gt;</code>: Search if an alias already exist</p>
<p><code>apt-cache show &lt;program&gt;</code> : Show the version of a program</p>
<p><code>apt-cache search &lt;program&gt;</code>: Search a package for the program</p>
<p><code>&lt;space&gt;&lt;command&gt;</code>: Do not add a command to the command history. e.g.: <code>ls -al</code></p>
<p><code>history</code>: Display the command history.</p>
<p><code>echo &lt;file_path&gt; | entr &lt;command&gt;</code>: Monitor a file and execute a command every time the file changes.</p>
<p><code>sleep &lt;seconds&gt;</code>: Stop the execution for time informed.</p>
<p><code>set -xe</code>: -e makes the shell exit immediately whenever something returns an error (this is often used in shell scripts as a failsafe mechanism), and -x enables verbose execution of scripts so that you can see what's happening.</p>
<h3 id="strings-manipulations">Strings Manipulations</h3>
<p><code>printf '%q' &quot;&lt;string&gt;&quot;</code>: Format string for shell scape</p>
<p><code>echo &lt;string_delimiter&gt; | cut -d'&lt;delimiter&gt;' -f&lt;position&gt;</code>: Get a substring between delimiters. E.g.: <code>echo &quot;S1;S2;S3&quot; | cut -d';' -f2</code></p>
<p><code>echo &lt;string_delimiter&gt; | rev | cut -d'&lt;delimiter&gt; | rev' -f&lt;position&gt;</code>: Get a substring between delimiters in reverse order. E.g.: <code>echo &quot;S1;S2;S3&quot; | rev | cut -d';' -f1 | rev</code></p>
<p><code>${&lt;string_delimiter&gt;##*&lt;character&gt;}</code>: Trim everything until the last specified character.</p>
<p><code>${&lt;string_delimiter&gt;#*&lt;character&gt;}</code>: Trim everything inclding the last specified character. E.g.: <code>${key=value#*=} &gt;&gt; &quot;value&quot;</code></p>
<p><code>${&lt;string_delimiter&gt;%%&lt;character&gt;*}</code>: Get the string before a specific character.</p>
<p><code>${&lt;string&gt;/&lt;character_to_search&gt;/&lt;character_to_replace&gt;}</code>: Replace the first occurrence of a character</p>
<p><code>${&lt;string&gt;//&lt;character_to_search&gt;/&lt;character_to_replace&gt;}</code>: Replace the all occurrences of a character</p>
<p><code>${&lt;string&gt;%&lt;character&gt;}</code>: Remove the last occurrence of a character.</p>
<p><code>${&lt;string&gt;#&lt;character&gt;}</code>: Remove the first occurrence of a character.</p>
<h2 id="security">Security</h2>
<h3 id="hashes">Hashes</h3>
<h4 id="sha-1-hashes">SHA-1 hashes</h4>
<p><code>sha1sum &lt;file&gt;</code> : Print or check SHA1 (160-bit) checksums. With no file, or when file is -, read standard input</p>
<p><code>sha1sum &lt;file&gt; &gt; &lt;file&gt;.sha1</code>: If you want to send the file together with its sha1sum output redirect the output to a file</p>
<p><code>sha1sum -c &lt;file&gt;.sha1</code>: Check if the file changed. It should show OK if the sha1 is correct.</p>
<h4 id="md5-hashes">MD5 hashes</h4>
<p><code>md5sum &lt;file&gt;</code> : Print or check MD5 (Message-Digest algorithm 5) 128-bit cryptographic hash checksums. With no file, or when file is -, read standard input</p>
<p><code>md5sum &lt;file&gt; &gt; &lt;file&gt;.sha1</code>: If you want to send the file together with its sha1sum output redirect the output to a file</p>
<p><code>md5sum -c &lt;file&gt;.sha1</code>: Check if the file changed. It should show OK if the sha1 is correct.</p>
<p><code>echo -n &lt;string&gt; | md5sum</code>: Calculate the MD5 of an string</p>
<h2 id="system">System</h2>
<p><code>dmesg</code> : Display all information from the system. E.g.: Processor, Platform, devices configured, whitch Toolchain should be used to compile the Linux kernel version, etc.</p>
<h2 id="file-system">File System</h2>
<p><code>/bin</code> : Common executables available for everyone, ex. cp rm ls</p>
<p><code>/boot</code> : Kernel and boot configuration</p>
<p><code>/dev</code> : Files which point to both physical and pseudo devices</p>
<p><code>/etc</code> : System and program configuration files</p>
<p><code>/home</code> : Non-root user home directories</p>
<p><code>/lib</code> : Lib32</p>
<p><code>/lib64</code> : Library files used by the system, include .so files and others</p>
<p><code>/lost+found</code> : Saved files due to failure</p>
<p><code>/media</code> : Auto-mounting place for certain external devices on some distros</p>
<p><code>/mnt</code> : Place to mount various file systems</p>
<p><code>/opt</code> : Various software</p>
<p><code>/proc</code> : Virtual filesystem for resources, processes, and more</p>
<p><code>/root</code> : Root user home directory</p>
<p><code>/sbin</code> : Similar to /bin, but for system administrators, ex. fdisk</p>
<p><code>/tmp</code> : Temporary file storage, wiped out after reboot</p>
<p><code>/usr</code> : User programs, library files, docs, etc., ex. obs</p>
<p><code>/var</code> : Variable files for various purposes, ex. logs, tz data</p>
<p><code>/vmlinuz</code> : Compressed linux kernel</p>
<h2 id="network">Network</h2>
<p><code>netstat -lptu</code> : List the tcp ports in use and what programs are using it.</p>
<p><code>sudo dhclient -v [-r]</code> : Visualize DHCP configuration. If you use the <code>-r</code> option, it will release the current IP address.</p>
<p><code>wget -qO- portquiz.net:&lt;Port&gt;</code> : Check if a port is open. The portquiz website answer calls for all available ports.</p>
<p><code>python -m SimpleHTTPServer &lt;port number&gt;</code> : Quick test server using python (localhost:8000)</p>
<p><code>/etc/hosts</code> : File with host mapping. If you want to resolve a name to a specific address you can add the <code>&lt;IP&gt; &lt;Name&gt;</code> on the beginning of this file.</p>
<p><code>ssh &lt;user_name&gt;@&lt;computer&gt;</code>: Connect using <em>ssh</em> to a remote computer.</p>
<p><code>ssh &lt;user_name&gt;@&lt;computer&gt; -i &lt;certificate_file&gt;</code>: Connect using <em>ssh</em> to a remote computer using certificate file.</p>
<p><code>ssh -oKexAlgorithms=+diffie-hellman-group1-sha1 &lt;user_name&gt;@&lt;computer&gt;</code>: Connect to a device that contains the old <em>diffie-hellman-group1-sha1</em> encryption algorithm. The <em>OpenSSH</em> does not allows you to connect with old encryption algorithm by default. When this happens the following message will be displayed: <code>no matching key exchange method found. Their offer: diffie-hellman-group1-sha1</code>. If you want a more permanent solution without having to type it all the time, you can add the following on the <code>~/.ssh/config</code> file:</p>
<p><code>ssh -L &lt;local_port&gt;:&lt;server_ip&gt;:&lt;server_port&gt; &lt;user_name&gt;@&lt;domain&gt; -N</code> : Tunnel with ssh. E.g.: <code>ssh -L 3337:127.0.0.1:6379 root@emkc.org -N</code></p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">Host</span> <span class="op">&lt;</span>device_ip<span class="op">&gt;</span> KexAlgorithms +diffie-hellman-group1-sha1</code></pre></div>
<p><code>scp [-r] &lt;source file path&gt; &lt;username&gt;@&lt;destination device (ip)&gt;:&lt;destination path&gt;</code> : To copy a file from source to destination while logged into source device. Use -r to copy the folder.</p>
<p><code>scp [-r] &lt;username&gt;@&lt;source device (ip)&gt;:&lt;source path&gt; &lt;destination file path&gt;</code> : To copy a file from source to destination while logged into destination device. Use -r to copy the folder.</p>
<h3 id="set-a-static-ip">Set a static IP</h3>
<p>The file <code>/etc/network/interfaces</code> controls the startup network configuration. To config a static IP you can use the following configuration:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">auto</span> lo
<span class="ex">iface</span> lo inet loopback

<span class="co">#Static IP description</span>
<span class="co"># IPv4 address</span>
<span class="ex">iface</span> eth0 inet static
  <span class="ex">address</span> 192.168.0.100
  <span class="ex">netmask</span> 255.255.255.0 
  <span class="ex">network</span> 192.168.0.0 
  <span class="ex">broadcast</span> 192.168.0.255
  <span class="ex">gateway</span> 192.168.0.1</code></pre></div>
<h3 id="installing-certificates">Installing Certificates</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># Create a directory for extra CA certificates in /usr/share/ca-certificates:</span>
<span class="ex">sudo</span> mkdir /usr/share/ca-certificates/extra

<span class="co"># Copy the CA .crt file to this directory:</span>
<span class="ex">sudo</span> cp my_certificate.crt /usr/share/ca-certificates/extra/ my_certificate.crt<span class="kw">`</span> 

<span class="co"># Ensure the cert is in pem format:</span>
<span class="ex">openssl</span> x509 -inform DER -outform PEM -in  my_certificate.crt -out my_certificate.crt

<span class="co"># Let Ubuntu add the .crt file&#39;s path relative to /usr/share/ca-certificates to /etc/ca-certificates.conf:</span>
<span class="ex">sudo</span> dpkg-reconfigure ca-certificates</code></pre></div>
<p><strong>Note</strong>: If you are using Ubuntu you might need to rename the certificate to <code>*.pem</code> to the dpkg-reconfigure command detected the certificate.</p>
<h2 id="bash-files">Bash Files</h2>
<p><code>#!/bin/bash</code> : Inform what interpreter should run the bash</p>
<p><code>#!/usr/bin/env bash</code> : Inform what interpreter should run the bash. This <a href="https://bash.cyberciti.biz/guide/Shebang">shebang</a> is preferable over the <code>#!/bin/bash</code> since it will make the script portable.</p>
<ul>
<li><code>set -u</code>: Make the script verify for empty variables. If is suggested to put it in all bash scripts</li>
</ul>
<p><code>cd &quot;$(dirname &quot;$0&quot;)</code> : Set bash to the current directory</p>
<p><code>read -p &quot;Press [Enter] key to continue&quot;</code> : Pause command</p>
<p><code>&lt;variable&gt;=&quot;$(readlink -f &quot;&lt;relative path&quot;)&quot;</code> : Convert relative path to full path.</p>
<h3 id="conditional-statements">Conditional Statements</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">if</span><span class="bu"> [</span> <span class="ot">-d</span> <span class="st">&quot;</span><span class="va">${directory}</span><span class="st">&quot;</span>  ]; then
  <span class="co"># Control will enter here if $DIRECTORY exists.</span>
fi
  
if [ <span class="ot">!</span> <span class="ot">-d</span> <span class="st">&quot;</span><span class="va">${directory}</span><span class="st">&quot;</span>  ]; then
  <span class="co"># Control will enter here if ${directory} does not exists.</span>
fi

if [ <span class="ot">!</span> <span class="ot">-S</span> <span class="st">&quot;</span><span class="va">${socket_file_path}</span><span class="st">&quot;</span><span class="bu"> ]</span>; <span class="kw">then</span>
  <span class="co"># Control will enter if a socket file does not exists</span>
<span class="kw">fi</span>

<span class="kw">if</span><span class="bu"> [</span> <span class="ot">!</span> <span class="ot">-f</span> <span class="st">&quot;</span><span class="va">${file_path}</span><span class="st">&quot;</span><span class="bu"> ]</span>; <span class="kw">then</span>
  <span class="co"># Control will enter if a file does not exists</span>
<span class="kw">fi</span></code></pre></div>
<p>You can also use the <code>test</code> command to execute comparisons (type <code>man test</code> for more instructions):</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/bash</span>
<span class="kw">for</span> <span class="ex">i</span> in <span class="dt">{1..10}</span>
<span class="kw">do</span>
  <span class="kw">if</span> <span class="bu">test</span> <span class="va">$i</span> -eq 3 
  <span class="kw">then</span>
    <span class="bu">echo</span> <span class="st">&quot;I found the 3!&quot;</span>
  <span class="kw">fi</span>
<span class="kw">done</span></code></pre></div>
<h3 id="looping">Looping</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">
<span class="kw">for</span> <span class="op">&lt;</span><span class="ex">item</span><span class="op">&gt;</span> in <span class="st">&quot;${&lt;array&gt;[@]}&quot;</span><span class="kw">;</span> <span class="kw">do</span>
  <span class="bu">echo</span> <span class="st">&quot;${&lt;item&gt;}&quot;</span>
<span class="kw">done</span></code></pre></div>
<h3 id="function-declaration-and-usage">Function declaration and usage</h3>
<p><code>type &lt;command&gt;</code>: Inform the type of command. If it is a function it will show the function.</p>
<p><code>declare -F [&lt;function_to_search&gt;]</code>: Inform all or a specific function.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">
<span class="fu">function_name ()</span> 
<span class="kw">{</span>
  <span class="co"># Usage: function_name &lt;out:arg1&gt; &lt;in:arg2&gt;</span>
  <span class="bu">echo</span> <span class="st">&quot;arg1 = </span><span class="va">$1</span><span class="st">&quot;</span>
  <span class="bu">echo</span> <span class="st">&quot;arg2 = </span><span class="va">$2</span><span class="st">&quot;</span>
<span class="kw">}</span>

<span class="ex">function_name</span> <span class="va">$arg1</span> <span class="va">$arg2</span></code></pre></div>
<h2 id="file-system-1">File System</h2>
<p><code>/opt</code> : Directory used for the installation of add-on application software packages</p>
<p><code>/usr/local</code> : Directory used for the installation software locally.</p>
<p><code>sshfs -o idmap=user &lt;username&gt;@&lt;remote machine IP&gt;:&lt;remote directory&gt; &lt;local directory&gt;</code> : Mount a remote machine directory on the local machine. TODO: This command works however I need to add the fuse configuration part of it, otherwise we will get the user denied access.</p>
<h2 id="environment-variable">Environment Variable</h2>
<p><code>printenv &lt;variable&gt;</code> : Shows the environment variables</p>
<p><code>echo $&lt;variable&gt;</code> : Shows the environment variables</p>
<p>To add the environment variable for your user, add it to the <code>~/.bashrc</code> file the following command: <code>export &lt;Variable Name&gt;=&lt;Variable Value&gt;</code></p>
<p>To add the environment variable for all users, add it to the <code>/etc/environment</code> file the following command: <code>&lt;Variable Name&gt;=&lt;Variable Value&gt;</code></p>
<p><em>Note:</em> You might need to add the environment variable to all users in case you want applications like <code>apt-get</code> to use the environment variable.</p>
<p>To reload the command configuration and have the variable set without have to close the shell run the following command: <code>source ~./baschrc</code></p>
<p><code>printenv TERM</code>: Show the color schema of the terminal.</p>
<h3 id="additional-commands-not-available-on-all-platforms">Additional commands (Not available on all platforms)</h3>
<p><code>getenv &lt;environment variable&gt;</code> : Shows the environment variable value.</p>
<p><code>setenv &lt;environment variable&gt; &lt;value</code> : Set the environment variable a value.</p>
<h2 id="web-proxy">Web Proxy</h2>
<p>To give access to your command terminal access the Internet via an Web Proxy, you can set the following environment variables <code>http_proxy, https_proxy, ftp_proxy, socks_proxy or all_proxy</code> with the the following values: <code>http://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;:&lt;port&gt;</code>.</p>
<p>E.g.: <code>http_proxy=&quot;http://my_user:my_password@host_ip:443&quot;</code></p>
<p><em>Note:</em> Your password and user might not be needed.</p>
<p><em>Note:</em> If your password has special characters as for example '@', you can replace is with the items of the following table:</p>
<table>
<thead>
<tr class="header">
<th>Character</th>
<th>Replacement</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>@</td>
<td>%40</td>
</tr>
<tr class="even">
<td>:</td>
<td>%3A</td>
</tr>
<tr class="odd">
<td>!</td>
<td>%21</td>
</tr>
<tr class="even">
<td>#</td>
<td>%23</td>
</tr>
<tr class="odd">
<td>$</td>
<td>%24</td>
</tr>
</tbody>
</table>
<p>To add ips that should not use proxy and go direct to the destination you can add the exceptions into the <code>no_proxy</code> variable, as for example:</p>
<p><code>export no_proxy=&quot;127.0.0.1&quot;</code> : To ignore the current computer</p>
<p>## TFS</p>
<p><code>tf -login:&lt;user name&gt;,&lt;password&gt; -collection:&lt;collection uri&gt; get &lt;folder/file to get&gt; [-recursive]</code> : Get a file or folder from TFS using the Team Foundation Server Client for Linux. For details see https://msdn.microsoft.com/en-us/library/hh873092(v=vs.120).aspx</p>
<p>## I/Os</p>
<p><code>/dev/</code> : Location of all devices available in the device. You can use the <code>ls</code> command to list them.</p>
<p><code>udevadm -n &lt;/dev/&lt;device name&gt;</code> : Provide all the information about a device. E.g.: Name, Bus, Vendor ID, Path ID, etc. Thins information can be used to configure the device. E.g.: Allow it to always receive the same name.</p>
<p><code>/lib/udev/rules.d/</code> : Map rules script location. Those scripts are responsible to define the how the periphericals will be mapped on the Linux filesystem. See <em>udev script examples</em>.</p>
<h3 id="usb">USB</h3>
<p><code>lsusb</code> : List the USB devices displaying its IDs. <em><Maker ID>:<Device ID></em></p>
<p>#### udev script examples</p>
<p>Map an USB port based on the Path ID. This example always map a raspberry pi port position to a fixed link</p>
<p><code>SUBSYSTEMS##&quot;usb&quot;, ENV{ID_PATH}##&quot;platform-3f980000.usb-usb-0:1.2:1.0&quot;, SYMLINK+=&quot;piusb2&quot;</code></p>
<p>Map an USB port based on the Maker ID and Product ID</p>
<p><code>SUBSYSTEM##&quot;tty&quot;, ATTRS{idVendor}##&quot;0403&quot;, ATTRS{idProduct}##&quot;6001&quot;, ATTRS{serial}##&quot;A6008isP&quot;, SYMLINK+=&quot;arduino&quot;</code></p>
<h2 id="partition">Partition</h2>
<p><code>lsblk</code> : List the physical disk (Device mapping) and the logic partition associated to it if it was formatted.</p>
<p><code>lshw -C disk</code> : View detected devices of class &quot;DISK&quot;</p>
<p><code>blkid</code> : List the location of the logic partition.</p>
<p><code>fdisk -l</code> : View existing partition tables</p>
<p><code>fdisk /dev/&lt;device name&gt;</code>: Create partition for the device. E.g.:<code>fdisk sdb</code>. You will need to follow the command inside fdisk. Note: If you create an extended partition, you need to create a Linux partition as well. They can occupy the same blocks.</p>
<p><code>mkfs -t ext4 /dev/&lt;linux partition&gt;</code> : Format the new partition's filesystem as type ext4. E.g.: <code>mkfs -t ext4 /dev/sdb5</code></p>
<p><code>mkfs.ext4 /dev/&lt;partition name&gt;</code> : Format a physical disk.</p>
<p><code>mount &lt;device or network share&gt; &lt;local folder&gt;</code> : Mount a device or shared folder into a local folder.</p>
<p><code>umount &lt;local folder&gt;</code> : Mount a device or shared folder into a local folder.</p>
<p><code>mountpoint &lt;directory&gt;</code> : Inform if the directory is mounted (mountpoint) or not</p>
<p><code>df -P -T &lt;directory&gt; | tail -n +2 | awk '{print $2}'</code> : Return the mount type of a directory (E.g.: cifs, ext4, etc)</p>
<p><code>df -P -T &lt;directory&gt; | tail -n +2 | awk '{print $1}'</code>: Return the device or the network path from were a folder was mounted from. (E.g.: /dev/sda1, //MyServer/myfolder)</p>
<p><code>/etc/mtab</code>: Lists currently mounted file systems and is used by the mount and unmount commands when you want to list your mounts or unmount all.</p>
<h2 id="fstab-permanent-mount">Fstab (Permanent Mount)</h2>
<p><code>/etc/fstab</code>: Configuration file that contains information of all the partitions and storage devices in your computer. <code>Important Note: Be careful with this file because if it is configured wrongly you system will not boot anymore</code></p>
<p>File format and examples</p>
<pre><code># Mount folder with spaces (Replace Spaces with &#39;\040&#39;)
/mnt/c/Users/rogersantos/OneDrive\040-\040Project /mnt/onedrive none bind 0 0</code></pre>
<h2 id="cron">Cron</h2>
<p><code>/etc/cron.hourly</code> : Directory that contains scrips that runs hourly.</p>
<p><code>/etc/cron.daily</code> : Directory that contains scrips that runs dialy.</p>
<p><code>/etc/cron.weekly</code> : Directory that contains scrips that runs weekly.</p>
<p><code>/etc/cron.monthly</code> : Directory that contains scrips that runs monthly.</p>
<p><code>etc/crontab</code> : Main configuration cron file.</p>
<h2 id="shared-libraries">Shared Libraries</h2>
<p>Shared libraries on Linux should always be installed in the <strong>Linux system libraries path</strong>.</p>
<p>You can use the <em>LD_LIBRARY_PATH</em> environment variable with a colon-separated set of directories where libraries should be searched for first, before the standard set of directories; this is useful when debugging a new library or using a nonstandard library for special purposes</p>
<p>Please note that while LD_LIBRARY_PATH works on many Unix-like systems, it doesn't work on all; for example, this functionality is available on HP-UX but as the environment variable SHLIB_PATH, and on AIX this functionality is through the variable LIBPATH (with the same syntax, a colon-separated list).</p>
<p><code>/usr/lib</code> : <strong>Linux system libraries path</strong></p>
<p><code>/usr/lib/i386-linux-gnu</code> : <strong>Linux system libraries path</strong> for <em>x86</em> applications in an <em>Linux x64</em></p>
<p><code>ldd --version</code>: Get the version of the <em>GLIBC</em>.</p>
<p><code>ldd &lt;program name&gt;</code> : Print the shared objects dependencies. Show the list of shared libraries a program depend.</p>
<p><code>/lib/ld-linux.so.2 --library-path &lt;library_path&gt; &lt;executable_command&gt;</code>: Allow to inform an additional path than the <strong>linux system library path</strong> where a library would be located.</p>
<h2 id="services-daemon">Services (Daemon)</h2>
<p><code>systemctl cat &lt;service_name&gt;</code>: List the current service configuration.</p>
<p><code>systemctl edit &lt;service_name&gt;</code>: Overwrite the default service configuration. Creates an override file (<code>/etc/systemd/system/&lt;service_name&gt;.d/override.conf</code>), open the editor and restart the service once the configuration is saved.</p>
<p><code>systemctl show &lt;service_name&gt; [-p &lt;property_name&gt;]</code>: Check service properties in a format <code>&lt;key&gt;:&lt;value&gt;</code>. If you want to display a single property, you can use the <code>-p</code> option.</p>
<p><code>systemctl status &lt;service_name&gt;</code>: Shows the current status of a service</p>
<p><code>journalctl -u &lt;service_name&gt;</code>: Show the current logs of a service</p>
<p><code>systemctl daemon-reload</code>: Reload systemd manager configuration. This will rerun all generators (see systemd.generator(7)), reload all unit files, and recreate the entire dependency tree. While the daemon is being reloaded, all sockets systemd listens on behalf of user configuration will stay accessible.</p>
<p><code>systemctl list-dependencies</code>: List all dependencies of a service</p>
<p><code>systemctl list-units [--all]</code>: List all services and its current status. When the option <code>--all</code> is invoked, services that is not running will also being shown. The default behavior is to show only running services</p>
<p><code>systemctl is-active &lt;service_name&gt;</code>: Verify if a service is active.</p>
<p><code>systemctl is-failed &lt;service_name&gt;</code>: Indicates if a service is in failed state</p>
<p><code>systemctl enable &lt;service_name&gt;</code>: Start a service in the boot</p>
<p><code>systemctl disable &lt;service_name&gt;</code>: Stop the service to start during boot</p>
<p><code>systemctl mask &lt;service_name&gt;</code>: Put the service in <em>masked state</em> which means, the service will not be able to be started while is masked.</p>
<p><code>systemctl unmask &lt;service_name&gt;</code>: Remove the service from <em>masked state</em></p>
<p><code>systemctl is-enabled</code>: Verify if a service is istarting during boot</p>
<p><code>systemctl revert &lt;service_name&gt;</code>: Revert service configuration to the vendor configuration</p>
<p><code>systemctl restart &lt;service_name&gt;</code>: Restart a service</p>
<p><code>systemctl stop &lt;service_name&gt;</code>: Stop a service</p>
<p><code>systemctl start &lt;service_name&gt;</code>: Start a service</p>
<p><code>systemctl status &lt;service_name&gt;</code>: Verify if a service is running</p>
<h2 id="signals">Signals <a name="signals"></a></h2>
<p><code>SIGHUP</code>:</p>
<p><code>SIGINT</code>:</p>
<p><code>SIGQUIT</code>:</p>
<p><code>SIGILL</code>:</p>
<p><code>SIGTRAP</code>:</p>
<p><code>SIGABRT</code>:</p>
<p><code>SIGBUS</code>:</p>
<p><code>SIGFPE</code>:</p>
<p><code>SIGKILL</code>: Kill a process. Does not give the process a chance to stop properly.</p>
<p><code>SIGUSR1</code>:</p>
<p><code>SIGSEGV</code>:</p>
<p><code>SIGUSR2</code>:</p>
<p><code>SIGPIPE</code>:</p>
<p><code>SIGALRM</code>:</p>
<p><code>SIGTERM</code>:</p>
<p><code>SIGSTKFLT</code>:</p>
<p><code>SIGCHLD</code>:</p>
<p><code>SIGCONT</code>: Continue a process execution.</p>
<p><code>SIGSTOP</code>:</p>
<p><code>SIGTSTP</code>: Stop a process execution. Put the process in suspended mode.</p>
<p><code>SIGTTIN</code>:</p>
<p><code>SIGTTOU</code>:</p>
<p><code>SIGURG</code>:</p>
<p><code>SIGXCPU</code>:</p>
<p><code>SIGXFSZ</code>:</p>
<p><code>SIGVTALRM</code>:</p>
<p><code>SIGPROF</code>:</p>
<p><code>SIGWINCH</code>:</p>
<p><code>SIGIO</code>:</p>
<p><code>SIGPWR</code>:</p>
<p><code>SIGSYS</code>:</p>
<p><code>SIGRTMIN</code>:</p>
<p><code>SIGRTMAX</code>:</p>
<h2 id="how-to">How-to</h2>
<h3 id="shell---run-32bits-application-into-64bits-os">Shell - Run 32bits application into 64bits OS</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> dpkg --add-architecture i386
<span class="fu">sudo</span> apt-get update
<span class="fu">sudo</span> apt-get install libc6:i386 libncurses5:i386 libstdc++6:i386
<span class="fu">sudo</span> apt-get install multiarch-support</code></pre></div>
<h3 id="shell---mount-bind-volume">Shell - Mount Bind Volume</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">echo</span> -ne <span class="st">&quot;Mouting volume /r from /mnt/c ... &quot;</span>
<span class="fu">sudo</span> mkdir -p /r
<span class="fu">sudo</span> mount --bind /mnt/c /r
<span class="bu">echo</span> <span class="st">&quot;DONE (New volume: /r=/mnt/c)&quot;</span></code></pre></div>
<h3 id="bash---read-user-input-with-defaut-value">Bash - Read user input with defaut value</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># Read User into the us_user local variable with default value User</span>

<span class="bu">local</span> <span class="va">us_user</span>
<span class="bu">read</span> -p <span class="st">&quot;Enter user (Default: User): &quot;</span> <span class="va">us_user</span>
<span class="va">us_user=${us_user:-</span>User<span class="va">}</span>

<span class="bu">echo</span> <span class="st">&quot;Welcome: </span><span class="va">${us_user}</span><span class="st">&quot;</span></code></pre></div>
<h3 id="bash---ask-user-input-with-limited-options">Bash - Ask user input with limited options</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">local</span> <span class="va">ui_yes_no</span>
<span class="kw">while</span> <span class="fu">true</span><span class="kw">;</span> <span class="kw">do</span>
  <span class="bu">read</span> -p <span class="st">&quot;Would you like to install/update programs (yes(y)/no(n))? &quot;</span> <span class="va">ui_yes_no</span>
  <span class="kw">case</span> <span class="va">$ui_yes_no</span><span class="kw"> in</span>
      [Yy]* <span class="kw">)</span> <span class="ex">InstallPrograms</span><span class="kw">;</span> <span class="bu">break</span><span class="kw">;;</span>
      [<span class="ex">Nn</span>]* ) <span class="bu">break</span><span class="kw">;;</span>
      <span class="ex">*</span> ) <span class="bu">echo</span> <span class="st">&quot;Please answer yes or no.&quot;</span><span class="kw">;;</span>
  <span class="kw">esac</span>
<span class="kw">done</span></code></pre></div>
<h3 id="shell---create-user-script">Shell - Create user (Script)</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">whoami</span>

<span class="co"># Create the ubuntu user as root and sudo group</span>
<span class="ex">useradd</span> -d /home/ubuntu -ms /bin/bash -g root -G sudo -p ubuntu ubuntu

<span class="co"># useradd options:</span>
<span class="co"># -d, --home-dir HOME_DIR Home directory of the new account.</span>
<span class="co"># -m, --create-home Create the user&#39;s home directory.</span>
<span class="co"># -s, --shell SHELL Login shell of the new account.</span>
<span class="co"># -g, --gid GROUP Name or ID of the primary group.</span>
<span class="co"># -G, --groups GROUPS List of supplementary groups.</span>
<span class="co"># -p, --password PASSWORD Encrypted password of the new account (e.g. ubuntu).</span>

<span class="fu">su</span> - ubuntu
<span class="fu">whoami</span></code></pre></div>
<h3 id="shell---populate-a-file-in-one-command">Shell - Populate a file in one command</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">cat</span> <span class="op">&gt;</span> /tmp/config_file <span class="op">&lt;&lt;-EOF</span>
[Session_01]
o1=1
o2=2
[Session_02]
o3=3
o4=4
EOF

cat /tmp/config_file</code></pre></div>
<h3 id="shell---configure-sudoer-to-use-proxy-configuration">Shell - Configure sudoer to use proxy configuration</h3>
<p>In some releases sudo is configured in such a way that all environment variables all cleared when running the command. To keep the proxy configuration edit the <code>/etc/sudoers</code> file running the <code>visudo</code> command.</p>
<p>Them, after the <code>Defaults env_reset</code> add the environment variable that you would like to keep as following:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">Defaults</span>  env_keep = <span class="st">&quot;http_proxy https_proxy ftp_proxy socks_proxy no_proxy&quot;</span></code></pre></div>
<h3 id="shell---create-a-super-fast-ram-disk">Shell - Create a super fast ram disk</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># Create a super fast ram disk</span>
<span class="fu">mkdir</span> -p /mnt/ram
<span class="fu">mount</span> -t tmpfs tmpfs /mnt/ram -o size=8192M</code></pre></div>
<h3 id="shell---compress-files">Shell - Compress files</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># Create 1G junk data file</span>
<span class="fu">dd</span> if=/dev/zero of=junk_data bs=1M count=1024

<span class="co"># Compress with gzip</span>
<span class="fu">gzip</span> -c junk_data <span class="op">&gt;</span> compressed.gz

<span class="co"># Compress with tar</span>
<span class="fu">tar</span> -cf compressed.tar junk_data

<span class="co"># Compress with xz</span>
<span class="fu">xz</span> -zk junk_data

<span class="co"># Compress with 7zip</span>
<span class="ex">7za</span> a -t7z compressed.7z junk_data

<span class="co"># Compress with bzip2 (Shown to be the software that compress the most)</span>
<span class="fu">bzip2</span> -zk junk_data

<span class="co"># Make unlimited size bzip2 archive (100TB in this case)</span>
<span class="fu">dd</span> if=/dev/zero bs=10G count=10000 <span class="kw">|</span> <span class="fu">bzip2</span> -c <span class="op">&gt;</span> compressed.bz2

<span class="co"># Extracting the file</span>
<span class="fu">bzip2</span> -d compressed.bz2</code></pre></div>
<h3 id="shell---execute-bash-script-from-url-without-downloading-a-file">Shell - Execute bash script from URL without downloading a file</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># Execute bash without arguments</span>
<span class="fu">wget</span> -O - <span class="op">&lt;</span>bash_url<span class="op">&gt;</span> <span class="kw">|</span> <span class="fu">bash</span>

<span class="co"># Execute bash that require arguments</span>
<span class="fu">wget</span> -O - <span class="op">&lt;</span>bash_url<span class="op">&gt;</span> <span class="kw">|</span> <span class="fu">bash</span> -s <span class="st">&#39;&lt;argument_01&gt;&#39;</span> <span class="st">&#39;&lt;argument_02&gt;&#39;</span></code></pre></div>
<h3 id="permissions-and-groups">Permissions and Groups</h3>
<p>The permission are listed as following:</p>
<figure>
<img src="http://tinyurl.com/y85m7sp2" />
</figure>
<pre class="shell"><code># Change permission to the to the owner
chmod +rw &lt;file_or_directory&gt;

# Change the permission to the group
chmod g+rw &lt;file_or_directory&gt;

# Change the permission to others
chmod o+rw &lt;file_or_directory&gt;

# Change group
chgrp &lt;group&gt; &lt;file_or_directory&gt;

# Change owner
chown &lt;group&gt; &lt;file_or_directory&gt;

# Change Permission by numbers
chmod &lt;number&gt;

# Change permission to execute with the same priviledges of the owner of the file (setuid)
chmod +s &lt;file&gt;</code></pre>
<p>Permission Numbers: - 0 = --- - 1 = --x - 2 = -w- - 3 = -wx - 4 = r- - 5 = r-x - 6 = rw- - 7 = rwx</p>
<h3 id="capabilities">Capabilities</h3>
<p>Is a better way to control permission of an executable or thread.</p>
<h4 id="capability-list">Capability List</h4>
<p><code>CAP_NET_RAW</code>: Grant permission to open raw network sockets</p>
<h4 id="commands">Commands</h4>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># Show all available capabilities</span>
<span class="fu">man</span> capabilities

<span class="co"># List the Capabilities of a proccess</span>
<span class="ex">getpcaps</span> <span class="op">&lt;</span>process_id<span class="op">&gt;</span>

<span class="co"># List Capabilities associated to a file </span>
<span class="ex">getcap</span> <span class="op">&lt;</span>file<span class="op">&gt;</span>

<span class="co"># Set a capability</span>
<span class="ex">setcap</span> <span class="op">&lt;</span>capability<span class="op">&gt;</span> <span class="op">&lt;</span>file<span class="op">&gt;</span></code></pre></div>
<h3 id="bash---create-a-progress-bar">Bash - Create a progress bar</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">echo</span> -ne <span class="st">&#39;#####                     (33%)\r&#39;</span>
<span class="fu">sleep</span> 1
<span class="bu">echo</span> -ne <span class="st">&#39;#############             (66%)\r&#39;</span>
<span class="fu">sleep</span> 1
<span class="bu">echo</span> -ne <span class="st">&#39;#######################   (100%)\r&#39;</span>
<span class="bu">echo</span> -ne <span class="st">&#39;\n&#39;</span></code></pre></div>
<h3 id="bash---loops">Bash - Loops</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">for</span> <span class="ex">VARIABLE</span> in A LIST
<span class="kw">do</span>
  <span class="ex">command1</span>
  <span class="ex">command2</span>
  <span class="ex">commandN</span>
<span class="kw">done</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#!/bin/bash</span>

<span class="bu">echo</span> <span class="st">&quot;You can list numbers and text like this:&quot;</span>

<span class="kw">for</span> <span class="ex">n</span> in 1 2 3 four
<span class="kw">do</span>
  <span class="bu">echo</span> <span class="st">&quot;Number </span><span class="va">$n</span><span class="st">&quot;</span>
<span class="kw">done</span>

<span class="bu">echo</span> <span class="st">&quot;Or specify a range of numbers:&quot;</span>

<span class="kw">for</span> <span class="ex">n</span> in <span class="dt">{1..5}</span>
<span class="kw">do</span>
  <span class="bu">echo</span> <span class="st">&quot;Number </span><span class="va">$n</span><span class="st">&quot;</span>
<span class="kw">done</span>

<span class="bu">echo</span> <span class="st">&quot;Or use the output of another command:&quot;</span>
<span class="kw">for</span> <span class="ex">f</span> in <span class="va">$(</span><span class="fu">ls</span><span class="va">)</span>
<span class="kw">do</span>
  <span class="bu">echo</span> <span class="va">$f</span>
<span class="kw">done</span></code></pre></div>
<h3 id="bash---parsing-json">Bash - Parsing JSON</h3>
<p><code>jq</code> is the command line to parse JSON</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># Parse JSON</span>
<span class="bu">echo</span> <span class="st">&#39;{ &quot;Price&quot;: 10.0, &quot;Name&quot;: &quot;Cable&quot; }&#39;</span> <span class="kw">|</span> <span class="ex">jq</span>

<span class="co"># Get Value of the Price </span>
<span class="bu">echo</span> <span class="st">&#39;{ &quot;Price&quot;: 10.0, &quot;Name&quot;: &quot;Cable&quot; }&#39;</span> <span class="kw">|</span> <span class="ex">jq</span> <span class="st">&quot;.Price&quot;</span></code></pre></div>
<h3 id="bash---run-commands-in-parallel">Bash - Run commands in parallel</h3>
<p><code>xargs -P &lt;task_number&gt;</code> allow you to run commands in parallel (multi-processors)</p>
<h3 id="ssh---create-ssh-keys-on-ubuntu">SSH - Create SSH keys on Ubuntu</h3>
<pre class="shell"><code>#Before generating a new SSH key pair first, check for existing SSH keys on your Ubuntu client machine
ls -l ~/.ssh/id_*.pub
# Generate a new 4096 bits SSH key pair with your email address:
ssh-keygen -t rsa -b 4096 -C &quot;your_email@domain.com&quot;
# Verify if new SSH key pair was generated
ls ~/.ssh/id_*
#Copy the Public Key to Ubuntu Server
ssh-copy-id remote_username@server_ip_address</code></pre>
<h3 id="shell---apply-tag-and-alias-to-linux-commands">Shell - Apply tag and alias to Linux commands</h3>
<pre class="shell"><code># Put the one line command to find files bigger than 10MB as a ListFilesBiggerThan10Mb tag
find . -size +10M -type f -print0 | xargs -0 ls -Ssh | sort -z #ListFilesBiggerThan10Mb

# Run the tagged command again using tag
!? #ListFilesBiggerThan10Mb

# Apply alias to the same command 
alias ListFilesBiggerThan10Mb=&#39;find . -size +10M -type f -print0 | xargs -0 ls -Ssh | sort -z&#39;

# Run the tagged command again using alias
ListFilesBiggerThan10Mb</code></pre>
<h3 id="shell---check-disk-performance">Shell - Check disk performance</h3>
<p>The command below will display the performance of creating a file of 1Mb 1000 times.</p>
<pre class="shell"><code>dd if=/dev/zero of=&lt;destination_folder&gt; bs=1M count=1000 </code></pre>
<h3 id="bash---fix-execution-due-invalid-character">Bash - Fix execution due invalid character</h3>
<p>If you are getting the following message when running a bash script:</p>
<p><code>/bin/sh^M: bad interpreter: No such file or directory</code></p>
<p>You can fix it by removing the invalid characters:</p>
<pre class="shell"><code>sed -i -e &#39;s/\r$//&#39; &lt;file_path&gt;</code></pre>
</body>
</html>
