<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="../resources/style.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="git">Git</h1>
<h2 id="commands">Commands</h2>
<p>Origin (Server) &gt;&gt; master (Work branch) &gt;&gt; Header (Local commits) &gt;&gt; tracked (files added) &gt;&gt; untracked (any change)</p>
<p><code>git config --global user.email &lt;your e-mail&gt;</code> : config your e-mail account globally</p>
<p><code>git config --global user.name &lt;your name&gt;</code> : config your name globally</p>
<p><code>git  init</code> : Initialize git repository. To init the repository on the server, use the option --bare</p>
<p><code>git add &lt;folder&gt;</code> : add content to the git repository</p>
<p><code>git diff --cached --name-status</code> : Get the list of the git files added</p>
<p><code>git diff HEAD &lt;file name&gt;</code> : Compare the file with the one added.</p>
<p><code>git commit -m &lt;check-in description&gt;</code> : send the content to the git repository</p>
<p><code>git commit --amend</code>: Allow to change a message committed.</p>
<p><code>git config --list</code> : List the current git configuration</p>
<p><code>git clone &lt;repository git url&gt; &lt;local folder name&gt;</code> : Clone git repository (E.g.: git clone ssh://git@192.168.56.113/~/git-server/leel.git)</p>
<p><code>g123.123.123.123it status</code> : Show the current status of the git repository</p>
<p><code>git push</code> : Push the changed to the server</p>
<p><code>git config --global credential.helper &quot;cache --timeout=3600&quot;</code> : configure to cache your credentials for a specific amount of time.</p>
<p><code>git config credential.helper store</code> : Configure the user and password to be stored into the <code>~/.git-credentials</code> file. Note: The password is stored without encryption. The only protection is that the file will be set to only have read and write access to your user. If this is not an acceptable level of security, please user the <em>credential.helper with cache option</em></p>
<p><code>kill $(pidof git-credential-cache--daemon)</code>: Close the process responsible for the credential cache. This will make the password to be asked again next time you use a git command that requires it.</p>
<p><code>git stash</code> : Get the information from server replacing the information of existing files with the server content. NO MERGE</p>
<p><code>git checkout -- &lt;filename&gt;</code> : Discard added changed for a file</p>
<p><code>git fetch origin</code> : Sync local origin with the remote server</p>
<p><code>git reset [--hard] origin/master</code> : Discard all local committed changes. If --hard is used all changes are lost. If --hard is not used all changed files will be on the untracked stage.</p>
<p><code>git show</code>: Display the last git commit.</p>
<p><code>git log -&lt;quantity&gt;</code>: Shows the lasts <quantity> commits.</p>
<p><code>git log --pretty=oneline -&lt;quantity&gt;</code>: Shows the lasts <quantity> commits. Only the commit line.</p>
<p><code>git show-branch</code> : Show the available branches</p>
<p><code>git checkout -b &lt;branch&gt;</code> : Create local branch</p>
<p><code>git branch -d &lt;branch&gt;</code> : Remove local branch</p>
<p><code>git checkout &lt;branch&gt;</code> : Go to the branch</p>
<p><code>git checkout -</code>: Go to the latest commit on that branch.</p>
<p><code>git pull</code> : Update local repository with the newest commit</p>
<p><code>git merge &lt;another branch</code> : Merge another branch into your active branch. The merged files will be on the untracked stage</p>
<p><code>git rm &lt;file name&gt;</code> : Remove git file or directory</p>
<p><code>git reset --hard</code> : Undo a change that was added but not commit yet</p>
<p><code>git reset --hard origin/master</code> : Undo all changes and commits. Your code will be equivalent to the server.</p>
<p><code>git checkout HEAD -- &lt;file&gt;</code> : Reset the file with its original value</p>
<p><code>git clean -fd</code> : Remove untracked files.</p>
<p><code>git rev-parse [--short] HEAD</code> : Display the HEAD id. Use short for the short version.</p>
<p><code>git revert &lt;commit_id&gt;</code> : Revert command changes all the files for a specific commit back to their state before that commit was completed</p>
<p><code>git blame</code> : Allow you to check the file chain history (Similar to VS annotate)</p>
<p><code>git diff &lt;source branch&gt; &lt;target branch&gt;</code> : Preview the branch differences.</p>
<p><code>git remote show origin</code>: Show the URL a git repository is cloned from.</p>
<p><code>git submodule add &lt;repository url&gt;</code> : Add a submodule into a git project.</p>
<p><code>git submodule add -b &lt;branch&gt; &lt;repository url&gt;</code> : Add a submodule that tracks a branch</p>
<p><code>git submodule init</code> : Initialize the submodule configuration. You should run it after you clone the project with submodule on it.</p>
<p><code>git submodule update</code> : Get the content of all submodules.</p>
<p><code>git submodule update --recursive --remote</code> : Update all submodules to the latest commit</p>
<p><code>git checkout &lt;branch or label&gt;</code> : Checkout a branch to allow edition on it. IMPORTANT: If you are checkingout a lebel, you will not be allowed to modify it. Execute the command below to put the lable in another branch</p>
<p><code>git checkout -b &lt;new branch&gt; &lt;branch or label&gt;</code> : Create a new Branch for the Branch or label checked out.</p>
<p><code>git status --ignore-submodules=dirty</code> : Ignore the dirty feature that slow down the command in case you have submodules with a lot of files. You can also change the &quot;.gitmodules&quot; files to add the following entry in a submodule you want to ignore: ignore ## dirty</p>
<p><code>git config --global --edit</code> : Edit the global configuration</p>
<p><code>git tag -l &lt;pattern&gt;</code> : List the tags available. If <pattern> is nothing it will list all the tags</p>
<p><code>git describe --tags</code> : Inform in what tag you are on</p>
<p><code>git fetch origin</code> : Get the information from the server (History)</p>
<p><code>git branch -a</code> : Show all branches. If you have a branch that is remote you need to get it on your computer using the command <code>checkout</code></p>
<p><code>git checkout -b &lt;local name&gt; &lt;remote name&gt;</code> : Checkout a Branch. E.g.: <code>git checkout -b develop origin/develop</code></p>
<p><code>git remote add &lt;name of remote&gt; &lt;remote url of an empty repository&gt;</code> : The remote name can be any name. The remote URL should be created on the server bu not initialized, otherwise you will have an conflict error. E.g.: <code>git remote add new-origin git@github.com:manakor/manascope.git</code></p>
<p><code>git push --all &lt;name of remote&gt;</code> : Push all changes, include the history. It does not only push the tags information. E.g.: <code>git push --all new-origin</code></p>
<p><code>git push --tags &lt;name of remote&gt;</code> : Push the tags. E.g.: <code>git push --tags new-origin</code></p>
<p><code>git remote rm &lt;name of the origin remote&gt;</code> : Remove the remote name from the local repository. Note that <code>origin</code> is the default name. E.g.: <code>git remote rm origin</code> Note: To list the remotes available you can use the command <code>git remote show</code></p>
<p><code>git remote rename &lt;name of the remote&gt; &lt;name of the origin remote&gt;</code> : Rename the remote. E.g.: <code>git remote rename new-origin origin</code> Note: To list the remotes available you can use the command <code>git remote show</code> t</p>
<p><code>git push --recurse-submodules=on-demand</code>: Look into the histories of submodules bound to the superproject and push them out.</p>
<h2 id="how-to">How-To</h2>
<h3 id="initializing-a-local-repository-that-is-not-on-github-yet">Initializing a local repository that is not on GitHub yet</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">Create</span> repository on Github
<span class="kw">On</span> Linux use the commands:
<span class="kw">echo</span> <span class="st">&quot;# linux_environment&quot;</span> <span class="kw">&gt;&gt;</span> README.md
<span class="kw">git</span> init
<span class="kw">git</span> add README.md
<span class="kw">git</span> commit -m <span class="st">&quot;first commit&quot;</span>
<span class="kw">git</span> remote add origin <span class="kw">&lt;</span>repository .git url<span class="kw">&gt;</span>
<span class="kw">git</span> push -u origin master</code></pre></div>
<h3 id="initializing-a-project-that-contains-submodules">Initializing a project that contains submodules</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">git</span> clone <span class="kw">&lt;</span>url of main project<span class="kw">&gt;</span>
<span class="kw">cd</span> <span class="kw">&lt;</span>directory of main project<span class="kw">&gt;</span>
<span class="kw">git</span> submodule update -init --recursive</code></pre></div>
<h3 id="editing-a-submodule-and-committing-a-modification">Editing a submodule and committing a modification</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">cd</span> <span class="kw">&lt;</span>directory of sub project<span class="kw">&gt;</span>
<span class="kw">git</span> checkout -b <span class="kw">&lt;</span>your branch name<span class="kw">&gt;</span>

<span class="co"># Execute the modification...</span>

<span class="kw">git</span> commit
<span class="kw">git</span> push origin <span class="kw">&lt;</span>server branch<span class="kw">&gt;</span></code></pre></div>
<h3 id="updating-a-third-party-library">Updating a Third-Party Library</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">cd</span> <span class="kw">&lt;</span>directory of third-party library<span class="kw">&gt;</span>
<span class="kw">git</span> checkout vendor
<span class="kw">git</span> pull 
<span class="kw">git</span> checkout -b phantom_merge
<span class="kw">git</span> merge -s ours master -m phantom_merge
<span class="kw">git</span> checkout master
<span class="kw">git</span> merge --ff-only phantom_merge
<span class="kw">git</span> branch -D phantom_merge
<span class="kw">git</span> cherry-pick 924989v# etc...

<span class="co"># Test...</span>

<span class="kw">git</span> push origin master:master</code></pre></div>
<h3 id="contributing-with-changes-in-a-third-party-repository">Contributing with changes in a Third-Party Repository</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">cd</span> <span class="kw">&lt;</span>directory of third-party<span class="kw">&gt;</span>

<span class="co"># Execute desired changes...</span>

<span class="kw">git</span> commit
<span class="kw">git</span> checkout vendor
<span class="kw">git</span> merge --ff-only origin/vendor
<span class="kw">git</span> checkout -b my_change
<span class="kw">git</span> cherry-pick 293h39
<span class="kw">git</span> push <span class="kw">&lt;</span>git url<span class="kw">&gt;</span>:my_change:my_change

<span class="co"># Use Github to execute a pull request</span></code></pre></div>
<h3 id="removing-submodule">Removing Submodule</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># Remove the submodule entry from .git/config</span>
<span class="kw">git</span> submodule deinit -f path/to/submodule

<span class="co"># Remove the submodule directory from the superproject&#39;s .git/modules directory</span>
<span class="kw">rm</span> -rf .git/modules/path/to/submodule

<span class="co"># Remove the entry in .gitmodules and remove the submodule directory located at path/to/submodule</span>
<span class="kw">git</span> rm -f path/to/submodule</code></pre></div>
<h3 id="updating-the-main-project-automatically-when-a-submodule-passes-on-the-continuous-integration-build">Updating the main project automatically when a submodule passes on the continuous integration build</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#TODO(Roger)</span></code></pre></div>
<h3 id="working-with-github-cron-jobs">Working with GitHub cron jobs</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">#TODO(Roger)</span></code></pre></div>
<h3 id="ignoring-directories-and-files">Ignoring directories and files</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">cd</span> <span class="kw">&lt;</span>project_folder<span class="kw">&gt;</span>
<span class="kw">touch</span> -a .gitignore

<span class="co"># Edit .gitignore adding folders and files that should be ignored. </span></code></pre></div>
<p>Git ignore examples</p>
<pre class=".gitignore"><code># Ignore version.h in the include folder
/include/version.h

# Ignore temp folder
/temp

# Ignote all stage folders
**/stage

# Ignore all .vs folders
**/.vs

# ignore all files under build folder but the specific extensions and files
**/build/** 
!**/build/*.sh
!**/build/*.bat
!**/build/*.cmake
!**/build/*.in
!**/build/DockerFile</code></pre>
<h3 id="transferring-local-commits-without-a-server">Transferring local commits without a server</h3>
<p>All local changes you execute on git is stored on the <em>.git</em> folder. You can copy this folder between same git projects located on different git repositories. In this way you can for example continue your work on different computers. To transfer the content, please follow the sequence below:</p>
<ul>
<li>Copy the full content of your <em>.git</em> source folder to a temp location.</li>
<li>Remove the <em>.git</em> your destination folder. Note: All your changes on that folder will be lost. So if you have pending check-ins publish it.</li>
<li>Copy the content of your <em>git</em> folder from your temp location to your destination folder.</li>
<li>Use the command <code>git checkout HEAD</code> to ensure thal all your local files are updated with the information that is on the HEAD.</li>
</ul>
<h3 id="transferring-git-repository-to-another-server">Transferring Git repository to another server</h3>
<p>Moving Git repository content to another repository preserving history</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">cd</span> <span class="kw">&lt;</span>target_repository<span class="kw">&gt;</span>
<span class="kw">git</span> checkout master
<span class="kw">git</span> remote add <span class="kw">&lt;</span>temp_branch_name<span class="kw">&gt;</span> <span class="kw">&lt;</span>repository_url<span class="kw">&gt;</span>
<span class="kw">git</span> fetch <span class="kw">&lt;</span>temp_branch_name<span class="kw">&gt;</span>
<span class="kw">git</span> merge <span class="kw">&lt;</span>temp_branch_name<span class="kw">&gt;</span>/master --allow-unrelated-histories
<span class="kw">git</span> remote rm <span class="kw">&lt;</span>temp_branch_name<span class="kw">&gt;</span></code></pre></div>
<h3 id="solving-detached-head">Solving detached HEAD</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">git</span> branch temp
<span class="kw">git</span> checkout master
<span class="kw">git</span> merge temp
<span class="kw">git</span> branch -d temp</code></pre></div>
<h3 id="merging-branches">Merging branches</h3>
<p>The example below merge the test branch into the master branch</p>
<pre class="shell"><code>git checkout master
git pull origin master
git merge test
git push origin master</code></pre>
<p>The example below merge the test branch into the master branch in a single new commit.</p>
<pre class="shell"><code>git checkout master
git pull origin master
git merge --squash test
git commit -m &quot;New commit message&quot;
git push origin master</code></pre>
<h2 id="installation">Installation</h2>
<h3 id="getting-the-latest-git-version-on-ubuntu">Getting the latest git version on Ubuntu</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># Add the PPA to the local package index</span>
<span class="kw">add-apt-repository</span> ppa:git-core/ppa
<span class="kw">apt-get</span> update

<span class="co"># Install Git</span>
<span class="kw">sudo</span> apt-get install git</code></pre></div>
</body>
</html>
